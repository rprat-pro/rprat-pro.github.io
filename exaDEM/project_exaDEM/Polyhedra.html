<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4. Polyhedron &mdash; ExaDEM &amp; ExaNBody  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Spheres" href="Spheres.html" />
    <link rel="prev" title="3. Test cases" href="Test_cases.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ExaDEM & ExaNBody
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ExaNB Framework</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html">1. ExaNBody: Framework for N-Body Simulations on HPC Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#installing-exanb">2. Installing ExaNB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#n-body-background">3. N-Body Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#software-stack-of-exanbody">4. Software stack of ExaNBody</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#performance-and-portability">5. Performance and portability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#algorithm-patterns">6. Algorithm Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#list-of-plugins">7. List of Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#exanbody-command-lines">8. ExaNBody Command Lines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#tutorials">9. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#exanbody-publications">10. ExaNBody Publications:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/index.html#example-for-rst-usage-math-code-etc">11. Example for rst usage (math, code etc)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ExDEM Variant</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">1. ExaDEM Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Test_cases.html">3. Test cases</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Polyhedron</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">4.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shape">4.2. Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interaction-contact">4.3. Interaction / Contact</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Spheres.html">5. Spheres</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fields.html">6. Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="ForceField.html">7. Force Field</a></li>
<li class="toctree-l1"><a class="reference internal" href="NumericalScheme.html">8. Numerical Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drivers.html">9. Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Analysis.html">10. I/O and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="Parallelization.html">11. Parallelization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">12. Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using exaNBody applications on Adastra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/adastra.html">1. Installing ExaNB and Your application on Adastra</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project_exaNBody/bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ExaDEM & ExaNBody</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">4. </span>Polyhedron</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/project_exaDEM/Polyhedra.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="polyhedron">
<h1><span class="section-number">4. </span>Polyhedron<a class="headerlink" href="#polyhedron" title="Permalink to this heading"></a></h1>
<p>In this section, we will describe the various information used to build simulations with polyhedron particles.</p>
<section id="overview">
<h2><span class="section-number">4.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The polyhedra implemented in <code class="docutils literal notranslate"><span class="pre">ExaDEM</span></code> are sphero-polyhedra, i.e. the vertices of the polyhedra are considered as spheres. To achieve this, <code class="docutils literal notranslate"><span class="pre">ExaDEM</span></code> incorporates many of the features of the <code class="docutils literal notranslate"><span class="pre">Rockable</span></code> DEM code developed at CNRS (<a class="reference external" href="https://github.com/richefeu/rockable">https://github.com/richefeu/rockable</a>, <a class="reference external" href="https://richefeu.github.io/rockable/quickStart.html">https://richefeu.github.io/rockable/quickStart.html</a>). <code class="docutils literal notranslate"><span class="pre">ExaDEM</span></code> relies in particular on a <code class="docutils literal notranslate"><span class="pre">Shape</span></code> class containing information about the polyhedron (vertex, edge, face and minskowski radius) and an interaction class used to qualify a contact between polyhedra.</p>
</section>
<section id="shape">
<h2><span class="section-number">4.2. </span>Shape<a class="headerlink" href="#shape" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Shape</span></code> class provides all the information on vertices, edges and faces, but it also provides other support to speed up calculations, such as <code class="docutils literal notranslate"><span class="pre">OBB</span></code> sets for each type of information. <code class="docutils literal notranslate"><span class="pre">ExaDEM</span></code> provides many features linked to the <code class="docutils literal notranslate"><span class="pre">Shape</span></code> class, such as reading <code class="docutils literal notranslate"><span class="pre">.shp</span></code> files (the format used by <code class="docutils literal notranslate"><span class="pre">Rockable</span></code>), as well as other functions such as outputting a <code class="docutils literal notranslate"><span class="pre">.vtk</span></code> file of the shape in question.</p>
<p>This class is defined by its:</p>
<ul class="simple">
<li><p>m_vertices: List of vertices</p></li>
<li><p>m_edges: List of edges</p></li>
<li><p>m_faces: List of fases</p></li>
<li><p>m_radius: Minskowki radius</p></li>
<li><p>m_volume: Volume</p></li>
<li><p>m_inertia_on_mass: Intertia coeff</p></li>
<li><p>m_name: name, default is undefined</p></li>
<li><p>obb: Oriented Bounded Box of the polyhedron</p></li>
<li><p>m_obb_vertices: List of <code class="docutils literal notranslate"><span class="pre">OBB</span></code> for each vertex (only for <code class="docutils literal notranslate"><span class="pre">STL</span> <span class="pre">Mesh</span></code>)</p></li>
<li><p>m_obb_edges: List of <code class="docutils literal notranslate"><span class="pre">OBB</span></code> for each edge</p></li>
<li><p>m_obb_faces: List of <code class="docutils literal notranslate"><span class="pre">OBB</span></code> for each face</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>OBB (Oriented Bounded Boxes) are enlarged of the Minskowki radius.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, every shapes are stored in a list of shapes, and the maximum cut-off radius are deduced from these shapes. Note that a cut-off radius that is too large can drastically reduce simulation performance. That’s why, do not put big shapes using the classical way (i.e. <code class="docutils literal notranslate"><span class="pre">read_shape_file</span></code>), big shapes should be defined as <code class="docutils literal notranslate"><span class="pre">drivers</span></code>.</p>
</div>
<p>Shape example (octahedron, 6 vertices, 12 edges and 8 faces):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&lt;
name<span class="w"> </span>Octahedron
radius<span class="w"> </span><span class="m">0</span>.1
preCompDone<span class="w"> </span>y
nv<span class="w"> </span><span class="m">6</span>
<span class="m">0</span>.2310789034541148<span class="w"> </span>-0.2310789034541148<span class="w"> </span><span class="m">0</span>.0
<span class="m">0</span>.2310789034541148<span class="w"> </span><span class="m">0</span>.2310789034541148<span class="w"> </span><span class="m">0</span>.0
<span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.32679491924311227
-0.2310789034541148<span class="w"> </span>-0.2310789034541148<span class="w"> </span><span class="m">0</span>.0
-0.2310789034541148<span class="w"> </span><span class="m">0</span>.2310789034541148<span class="w"> </span><span class="m">0</span>.0
<span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span>-0.32679491924311227
ne<span class="w"> </span><span class="m">12</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="m">2</span><span class="w"> </span><span class="m">1</span>
<span class="m">2</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">3</span>
<span class="m">2</span><span class="w"> </span><span class="m">3</span>
<span class="m">3</span><span class="w"> </span><span class="m">4</span>
<span class="m">4</span><span class="w"> </span><span class="m">2</span>
<span class="m">4</span><span class="w"> </span><span class="m">1</span>
<span class="m">5</span><span class="w"> </span><span class="m">0</span>
<span class="m">5</span><span class="w"> </span><span class="m">1</span>
<span class="m">5</span><span class="w"> </span><span class="m">4</span>
<span class="m">5</span><span class="w"> </span><span class="m">3</span>
nf<span class="w"> </span><span class="m">8</span>
<span class="m">3</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span>
<span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span>
<span class="m">3</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">4</span>
<span class="m">3</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span>
<span class="m">3</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">1</span>
<span class="m">3</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">3</span>
<span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span>
<span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">1</span>
obb.extent<span class="w"> </span><span class="m">0</span>.33107890345411484<span class="w"> </span><span class="m">0</span>.33107890345411484<span class="w"> </span><span class="m">0</span>.4267949192431123
obb.e1<span class="w"> </span><span class="m">1</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0
obb.e2<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">1</span>.0<span class="w"> </span><span class="m">0</span>.0
obb.e3<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">1</span>.0
obb.center<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0
position<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0
orientation<span class="w"> </span><span class="m">1</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0<span class="w"> </span><span class="m">0</span>.0
volume<span class="w"> </span><span class="m">0</span>.16666666666666666
I/m<span class="w"> </span><span class="m">0</span>.04999999999999999<span class="w"> </span><span class="m">0</span>.04999999999999999<span class="w"> </span><span class="m">0</span>.04999999999999999
&gt;
</pre></div>
</div>
<p>Or a sphere (1 vertex, 0 edge, 0 face):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&lt;
name<span class="w"> </span>alpha1
radius<span class="w"> </span><span class="m">0</span>.5
preCompDone<span class="w"> </span>y
nv<span class="w"> </span><span class="m">1</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
ne<span class="w"> </span><span class="m">0</span>
nf<span class="w"> </span><span class="m">0</span>
obb.extent<span class="w"> </span><span class="m">0</span>.5<span class="w"> </span><span class="m">0</span>.5<span class="w"> </span><span class="m">0</span>.5
obb.e1<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
obb.e2<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
obb.e3<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
obb.center<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
volume<span class="w"> </span><span class="m">0</span>.523598775598299
I/m<span class="w"> </span><span class="m">0</span>.1<span class="w"> </span><span class="m">0</span>.1<span class="w"> </span><span class="m">0</span>.1
&gt;
</pre></div>
</div>
<p>It’s important to note that using a shape of a spherical particle with a polyhedron configuration instead of directly using a sphere configuration decreases overall performance due to unnecessary calculations such as applying an orientation to a vertex. We have observed that in this case, simulations are about 2 to 3 times slower.</p>
<ul class="simple">
<li><p>Operator Name: <code class="docutils literal notranslate"><span class="pre">read_shape_file</span></code></p></li>
<li><p>Description: This operator initialize shapes data structure from a shape input file.</p></li>
<li><p>Parameter:</p>
<ul>
<li><p>filename: Input file name (.stl)</p></li>
</ul>
</li>
</ul>
</section>
<section id="interaction-contact">
<h2><span class="section-number">4.3. </span>Interaction / Contact<a class="headerlink" href="#interaction-contact" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">exaDEM::Interaction</span></code> class in <code class="docutils literal notranslate"><span class="pre">ExaDEM</span></code> is used to model various types of interactions between polyhedra and between polyhedra and <code class="docutils literal notranslate"><span class="pre">drivers</span></code>. This class serves as a crucial component for identifying two elements within the data grid and characterizing the type of interaction between them.</p>
<p><strong>Interaction Class Attributes:</strong></p>
<ul class="simple">
<li><p>id_i and id_j: Id of both polyhedra.</p></li>
<li><p>cell_i and cell_j: Indices of the cells containing the interacting polyhedra.</p></li>
<li><p>p_i and p_j: Positions of the polyhedra within their respective cells.</p></li>
<li><p>sub_i and sub_j: Indices of the vertex, edge, or face of the polyhedron involved in the interaction.</p></li>
<li><p>type: Type of interaction (integer). See Interaction Glossary.</p></li>
<li><p>friction and moment: Storage used for temporary computations.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the interaction involves a polyhedron and a <code class="docutils literal notranslate"><span class="pre">driver</span></code>, particle j is used to locate the <code class="docutils literal notranslate"><span class="pre">driver</span></code>. In this scenario, cell_j represents the index of the <code class="docutils literal notranslate"><span class="pre">driver</span></code>. If the <code class="docutils literal notranslate"><span class="pre">driver</span></code> utilizes a shape, such as with <code class="docutils literal notranslate"><span class="pre">STL</span> <span class="pre">meshes</span></code>, sub_j is also utilized to store the index of the vertex, edge, or face.</p>
</div>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Glossary of <code class="docutils literal notranslate"><span class="pre">Interaction</span></code> types</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 25%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Vertex - Vertex</p></td>
<td><p>Contact between two vertices of two different polyhedra</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vertex - Edge</p></td>
<td><p>Contact between a vertex and an edge of two different polyhedra</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Vertex - Face</p></td>
<td><p>Contact between a vertex and a face of two different polyhedra</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Edge - Edge</p></td>
<td><p>Contact between two edges of two different polyhedra</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Vertex - Cylinder</p></td>
<td><p>Contact between a vertex of a polyhedron and a cylinder</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Vertex - Surface</p></td>
<td><p>Contact between a vertex of a polyhedron and a rigid surface or wall</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Vertex - Ball</p></td>
<td><p>Contact between a vertex of a polyhedron and a ball / sphere</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Vertex - Vertex (STL)</p></td>
<td><p>Contact between a vertex of a polyhedron and a vertex of a stl mesh</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Vertex - Edge (STL)</p></td>
<td><p>Contact between a vertex of a polyhedron and an edge of a stl mesh</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>Vertex - Face (STL)</p></td>
<td><p>Contact between a vertex of a polyhedron and a face of a stl mesh</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>Edge - Edge (STL)</p></td>
<td><p>Contact between a edge of a polyhedron and a edge of a stl mesh</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>Vertex (STL) - Edge</p></td>
<td><p>Contact between a vertex of a stl mesh and a edge of a polyhedron</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>Vertex (STL) - Face</p></td>
<td><p>Contact between a vertex of a stl mesh and a face of a polyhedron</p></td>
</tr>
</tbody>
</table>
<p><strong>Interaction Class Usage:</strong></p>
<p>To retrieve data associated with a specific interaction between two polyhedra, the attributes of the <code class="docutils literal notranslate"><span class="pre">exaDEM::Interaction</span></code> class are used to identify cells, positions, and interaction types. Theses informations are then utilized within simulation computations to accurately model interactions between polyhedra, considering the interaction type.</p>
<p>These interactions are utilized as a level of granularity for intra-node parallelization, applicable to both <code class="docutils literal notranslate"><span class="pre">CPU</span></code> and upcoming <code class="docutils literal notranslate"><span class="pre">GPU</span></code> implementations. The interactions are populated within the <code class="docutils literal notranslate"><span class="pre">nbh_polyhedron</span></code> operator and subsequently processed in the <code class="docutils literal notranslate"><span class="pre">hooke_polyhedron</span></code> operator.</p>
<p>In summary, the <code class="docutils literal notranslate"><span class="pre">exaDEM::Interaction</span></code> class provides a crucial data structure for managing interactions between polyhedra and drivers within DEM simulations. By storing information such as cell numbers, positions, and interaction types, it enables precise modeling of physical interactions between simulated objects.</p>
<p><strong>Grid Of Interactions:</strong></p>
<p>In <code class="docutils literal notranslate"><span class="pre">ExaDEM</span></code>, interactions are stored in the form of a grid of cells (AOSOA), the cell (SOA) then containing a <code class="docutils literal notranslate"><span class="pre">GridExtraDynamicDataStorageT</span></code>, i.e. a data structure similar to a vector of <code class="docutils literal notranslate"><span class="pre">Interactions</span></code> + particle information vector. This data structure facilitates the migration of information between <code class="docutils literal notranslate"><span class="pre">MPI</span></code> processes when the interaction is considered to be always active (i.e. the two polyhedra are always in contact from one time step to the next). For more details in code, see <cite>src/polyhedra/include/exaDEM/interaction/grid_cell_interaction.hpp</cite> and <code class="docutils literal notranslate"><span class="pre">extra_storage</span></code> package in <code class="docutils literal notranslate"><span class="pre">ExaNBody</span></code>.</p>
<p><strong>Classifier:</strong></p>
<p>To improve the implementation of kernels linked to <code class="docutils literal notranslate"><span class="pre">GPU</span></code> interactions, <code class="docutils literal notranslate"><span class="pre">exaDEM</span></code> relies on the <cite>classifier</cite> class, which sorts all interactions by type in an <code class="docutils literal notranslate"><span class="pre">SOA</span></code>, so that several kernels can be launched, each dealing with the same type of interaction. The aim is to limit instruction divergence between <code class="docutils literal notranslate"><span class="pre">GPU</span></code> threads.</p>
<p>It’s important to point out that this data structure complements the interaction grid. The main idea is to classify and unclassify interaction information as long as the data has not changed (<code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">migration</span></code>, <code class="docutils literal notranslate"><span class="pre">move</span> <span class="pre">particle</span></code>, <code class="docutils literal notranslate"><span class="pre">IO</span></code>). To achieve this, we use two operators: <code class="docutils literal notranslate"><span class="pre">classify</span></code> and <code class="docutils literal notranslate"><span class="pre">unclassify</span></code>.</p>
<p>Using the classifier is currently the default strategy in exaDEM for spheres and polyhedra.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Test_cases.html" class="btn btn-neutral float-left" title="3. Test cases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Spheres.html" class="btn btn-neutral float-right" title="5. Spheres" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Thierry Carrard, Raphaël Prat, Jean-Philippe Perlat, Paul Lafourcade.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>